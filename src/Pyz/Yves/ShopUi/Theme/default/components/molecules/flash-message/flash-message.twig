{% extends model('component') %}

{% define config = {
    name: 'flash-message',
    tag: 'flash-message',
} %}

{% define data = {
    action: '',
    title: '',
    text: '',
    icon: null,
} %}

{% define attributes = {
    'default-duration': 4000,
    'max-visible-messages': 3,
} %}

{% set modifiers = [data.action] | merge(modifiers | default([])) %}

{% block body %}
    {% block icon %}
        <span class="{{ config.name }}__icon-wrapper">
            {% include atom('icon') with {
                modifiers: ['bigger'],
                data: {
                    name: data.icon ?? 'flash-message-' ~ data.action | default('info'),
                },
            } only %}
        </span>
    {% endblock %}

    {% block content %}
        <div class="{{config.name}}__content">
            {% if data.title is not empty %}
                <h6 class="{{ config.name }}__title">{{ data.title | trans }}</h6>
            {% endif %}

            <div class="{{config.name}}__text">
                {{ data.text | trans }}
            </div>
        </div>
    {% endblock %}

    <button type="button" class="{{config.name}}__close">
        {% include atom('icon') with {
            data: {
                name: 'cross',
            },
        } only %}
    </button>
{% endblock %}
