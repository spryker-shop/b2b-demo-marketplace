{% extends template('widget') %}

{% define data = {
    title: _widget.title,
    form: _widget.form,
    options: {
        action: path('product-quick-add')
    },
    submitButtonTitle: _widget.submitButtonTitle,
    verticalLayout: _widget.verticalLayout,
    ajaxTriggerAttribute: null,
} %}

{% block body %}
    {% set formModifiers = data.verticalLayout ? [] : ["row"] %}
    {% set options = data.options | merge({action: data.ajaxTriggerAttribute ? path('cart/async/quick-add') : data.options.action }) %}

    {% include molecule('product-quick-add-form', 'ProductSearchWidget') with {
        class: "grid grid--middle",
        modifiers: formModifiers,
        data: {
            title: data.title,
            form: data.form,
            options: options,
            submitButtonTitle: data.submitButtonTitle,
            verticalLayout: data.verticalLayout,
            ajaxTriggerAttribute: data.ajaxTriggerAttribute,
        }
    } only %}
{% endblock %}
